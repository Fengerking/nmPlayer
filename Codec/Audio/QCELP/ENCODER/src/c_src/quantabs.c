#include "celp.h"
#include "coderate.h"
#include "quantize.h"
#include "cb.h"


short G_QUANT_TYPE[NUMMODES] = {LINEAR,LINEAR,LINEAR,LINEAR,LINEAR};

short MING[NUMMODES]={0,         0,     0,     0,     0};   /* -6 */
short MAXG[NUMMODES]={960,     960,   960,   960,   960};   /* 24 */
short NUMBER_OF_G_LEVELS[NUMMODES]={16, 16, 16, 16, 16};

short RELNUMBER_OF_G_LEVELS[NUMMODES]={8, 8, 8, 8, 8};

short GPRED_COEFF[GORDER] = {1, 1, 1};

/* For quantizing codebook Gain for EIGHTH rate frames */
/* QG8[i] = QG8[i] */
short QG8[4] = {-64, -32, 0, 32};

//int FG[73] = 
//{  -2, -2, -2, -2, -1,  0,  0,  0,  1,  2,  3,  4,  5,
//    6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
//   18, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 27, 28, 
//   29, 30, 31, 32, 33, 34, 35, 36, 36, 37, 38, 39, 40, 
//   41, 42, 43, 44, 45, 45, 46, 47, 48, 49, 50, 51, 52, 
//    53, 54, 54, 55, 56, 57, 58, 58};

/* 10^(i/20) */
/* GA[i] = GA[i] * (1 << 4)  */
short GA[73] = {   
        8,     8,    10,    12,    12,    14,    16, 
       18,    20,    22,    26,    28,    32,    36,
	   40,    46,    50,    56,    64,    72,    80,
       90,   100,   114,   128,   142,   160,   180, 
	  202,   226,   254,   284,   320,   358,   402,
	  450,   506,   568,   636,   714,   802,   900,
	 1010,  1132,  1270,  1426,  1600,  1796,  2014,
	 2260,  2536,  2846,  3192,  3582,  4020,  4510,
	 5060,  5678,  6370,  7146,  8018,  8998, 10096,
	11328, 12710, 14260, 16000, 17952, 20142, 22600,
	25358, 28452, 31924
};

/* Begin quantize */
short LSP_QTYPE[NUMMODES]       = {VQT, PRED, VQT, VQT, VQT};
short LSP_DPCM_DECAY[NUMMODES]  = {0, 29696, 0, 0, 0};

short MIN_DELTA_LSP[NUMMODES][LPCORDER] =
{
{-1638,  -2621,  -4588,  -4588,  -3932,  -3932,  -3277,  -3277,  -2621,  -2621}, 
{ -655,   -655,   -655,   -655,   -655,   -655,   -655,   -655,   -655,   -655}, 
{-1638,  -2621,  -4588,  -4588,  -3932,  -3932,  -3277,  -3277,  -2621,  -2621}, 
{-1638,  -2621,  -4588,  -4588,  -3932,  -3932,  -3277,  -3277,  -2621,  -2621}, 
{-1638,  -2621,  -4588,  -4588,  -3932,  -3932,  -3277,  -3277,  -2621,  -2621}
};

short MAX_DELTA_LSP[NUMMODES][LPCORDER] =
{
{ 1638,   2621,   4588,   4588,   3932,   3932,   3277,   3277,   2621,   2621}, 
{  655,    655,    655,    655,    655,    655,    655,    655,    655,    655}, 
{ 1638,   2621,   4588,   4588,   3932,   3932,   3277,   3277,   2621,   2621}, 
{ 1638,   2621,   4588,   4588,   3932,   3932,   3277,   3277,   2621,   2621}, 
{ 1638,   2621,   4588,   4588,   3932,   3932,   3277,   3277,   2621,   2621}
};

short NUM_LSP_QLEVELS[NUMMODES][LPCORDER] =
{{  16, 16, 16, 16, 16, 16, 16, 16, 16, 16 }, 
{  2,  2,  2,  2,  2,  2,  2,  2,  2,  2 },
{  16, 16, 16, 16, 16, 16, 16, 16, 16, 16 }, 
{  16, 16, 16, 16, 16, 16, 16, 16, 16, 16 }, 
{  16, 16, 16, 16, 16, 16, 16, 16, 16, 16 }};

short LSPVQSIZE[5]={64, 128, 128, 64, 64};

/* LSPVQ0[i][2] = LSPVQ0[i][2] * (1 << 15) */
short LSPVQ0[][2]= {
{ 1072,   387},
{ 3011,   364},
{ 1399,  1442},
{ 4348,   606},
{ 1537,   164},
{ 4168,   298},
{ 2923,   193},
{ 5803,   632},
{  727,   518},
{ 3604,   416},
{ 2710,   180},
{ 3205,  2592},
{ 2179,   154},
{ 2294,  4591},
{ 2195,  2815},
{ 6269,  3434},
{ 1543,   705},
{ 3428,   410},
{ 2114,   976},
{ 5240,   524},
{ 1943,   128},
{ 3890,  1514},
{ 2454,  1117},
{ 4981,  1674},
{  950,  2595},
{ 2979,  1186},
{ 2467,   265},
{ 3641,  3467},
{ 1701,   829},
{ 2713,  2749},
{ 2245,  1773},
{ 4656,  4122},
{ 1265,   426},
{ 3152,   390},
{ 1776,  1268},
{ 4689,   606},
{ 1724,   167},
{ 3850,   852},
{ 2723,   547},
{ 5662,  1671},
{  895,  1432},
{ 3840,   370},
{ 2526,   472},
{ 3677,  2461},
{ 2028,   390},
{ 1612,  4181},
{ 2156,  2277},
{ 6167,  2015},
{ 1360,   655},
{ 3336,   288},
{ 2232,  1111},
{ 4705,  1065},
{ 1819,   400},
{ 3414,  1589},
{ 2707,  1130},
{ 4502,  2435},
{ 1255,  3336},
{ 3293,  1173},
{ 2307,   282},
{ 4263,  1920},
{ 1956,   790},
{ 2726,  2035},
{ 1819,  1878},
{ 4928,  2749}
};

/* LSPVQ1[i][2] = LSPVQ1[i][2] * (1 << 15) */
short LSPVQ1[][2]= {
{  836,   960},
{ 2962,   718},
{  495,  3968},
{ 4742,  1632},
{ 1540,   829},
{ 5109,   580},
{ 5069,  3257},
{ 7845,   793},
{  298,  2664},
{ 2808,  1933},
{ 3061,  4345},
{ 6190,   924},
{ 2664,  1547},
{ 3464,  4896},
{ 1475, 10863},
{ 7088,  6210},
{ 1763,  1743},
{ 4584,   714},
{  478,  5086},
{ 5751,  2051},
{ 2694,   662},
{ 4257,  2173},
{ 2313,  5675},
{ 8703,  1314},
{ 1370,  2441},
{ 2497,  3401},
{ 1910,  5728},
{ 5721,  4211},
{ 1727,  3831},
{ 4306,  2720},
{ 1822,  6934},
{ 3516,  7605},
{  973,  1868},
{ 3215,  1321},
{ 1534,  3614},
{ 5702,   796},
{ 2376,   587},
{ 4112,  1553},
{ 4502,  4463},
{ 6298,  2988},
{  934,  3103},
{ 3047,  2294},
{ 1943,  4496},
{ 6255,  1887},
{ 1927,  3002},
{ 3637,  3657},
{  734,  8910},
{ 5351,  7274},
{ 1317,  1704},
{ 3477,  1468},
{ 1317,  4430},
{ 4912,  2540},
{ 2176,  1930},
{ 3542,  2382},
{ 2625,  7229},
{ 7094,  3791},
{ 1855,  2628},
{ 2985,  3657},
{ 1003,  5580},
{ 5872,  2739},
{ 2146,  3274},
{ 3477,  3401},
{  976,  6845},
{ 3637,  5744},
{ 1183,  1019},
{ 3178,   783},
{  868,  4034},
{ 4899,  1878},
{ 1855,   859},
{ 5141,   960},
{ 4394,  3749},
{ 7442,  1783},
{  701,  2874},
{ 2775,  2356},
{ 2602,  4535},
{ 6773,   898},
{ 2304,  2254},
{ 3601,  4280},
{ 1281,  9657},
{ 6632,  5472},
{ 1543,  1720},
{ 4080,   950},
{  865,  5102},
{ 5138,  2644},
{ 2353,  1307},
{ 3909,  2245},
{ 2893,  5223},
{ 8942,  2503},
{ 1638,  2471},
{ 2651,  3631},
{ 1773,  5400},
{ 4991,  4538},
{ 2012,  3919},
{ 3962,  2775},
{ 1130,  7347},
{ 4725,  5725},
{  652,  1835},
{ 3578,   636},
{ 1144,  4106},
{ 5417,  1661},
{ 2048,  1160},
{ 4509,  1412},
{ 3890,  4801},
{ 7091,  2857},
{ 1180,  3192},
{ 3303,  2287},
{ 2307,  4411},
{ 6927,  1481},
{ 2359,  2674},
{ 4063,  3568},
{ 1439,  8110},
{ 4909,  6685},
{ 1101,  2353},
{ 3975,   613},
{ 1478,  4751},
{ 4483,  2900},
{ 1940,  1894},
{ 3706,  1740},
{ 2821,  6078},
{ 5780,  4915},
{ 1455,  3178},
{ 3064,  2959},
{ 1389,  5528},
{ 5351,  3611},
{ 2599,  2939},
{ 3473,  2939},
{  606,  6590},
{ 3949,  6078}
};

/* LSPVQ2[i][2] = LSPVQ2[i][2] * (1 << 15) */
short LSPVQ2[][2]= {
{  836,   927},
{ 4247,  1163},
{ 1779,  1124},
{ 6793,   898},
{  668,  3601},
{ 5118,  1714},
{ 4548,   528},
{ 9123,   898},
{  367,  2782},
{ 6128,   573},
{ 3896,   524},
{ 4882,  3565},
{ 3175,  3654},
{ 2159, 10886},
{ 3795,  3516},
{10430,  4466},
{ 1694,   731},
{ 5702,   731},
{ 2307,  1268},
{ 8641,   767},
{ 2268,  3293},
{ 4217,  5276},
{ 3120,  1743},
{ 7841,  2117},
{ 1606,  1809},
{ 5305,  2153},
{ 2769,  2195},
{ 5846,  7471},
{  626,  5816},
{  891,  9398},
{ 3087,  3120},
{ 8611,  4846},
{  911,  1897},
{ 5128,   714},
{ 2667,   590},
{ 7796,   613},
{  904,  4732},
{ 3929,  4008},
{ 3932,  1144},
{ 9860,  1006},
{ 1022,  2766},
{ 6219,  1003},
{ 2828,  1540},
{ 5521,  4067},
{ 1681,  5659},
{ 2330,  7317},
{ 3555,  2831},
{11135,  1727},
{ 1357,  1442},
{ 4443,  2005},
{ 3159,   482},
{ 7120,  2418},
{ 1524,  4234},
{ 2874,  5731},
{ 3618,  2258},
{ 6898,  4296},
{ 1901,  2831},
{ 6210,  2464},
{ 2136,  1996},
{ 4866,  5567},
{ 1684,  4588},
{ 1265,  6983},
{ 3057,  2615},
{ 8104,  3231},
{ 1094,  1180},
{ 4506,  1304},
{ 2035,   904},
{ 7153,   918},
{ 1019,  3650},
{ 4529,  2644},
{ 4207,   573},
{ 8536,  2084},
{  754,  2674},
{ 5698,  1337},
{ 3519,   577},
{ 5305,  3670},
{ 2569,  4492},
{ 1468,  9994},
{ 3896,  2884},
{ 9958,  3817},
{ 1389,   790},
{ 5479,   609},
{ 2671,  1091},
{ 7969,  1062},
{ 1914,  3372},
{ 3726,  5066},
{ 3326,  1917},
{ 7202,  3260},
{ 1881,  1904},
{ 5721,  2120},
{ 2402,  2425},
{ 6350,  5692},
{ 1137,  5603},
{ 1222,  7959},
{ 2579,  3477},
{ 7992,  4712},
{  606,  1756},
{ 4879,   583},
{ 2304,   708},
{ 7137,  1579},
{  505,  4656},
{ 4633,  3257},
{ 3614,  1153},
{10066,  1550},
{ 1337,  2684},
{ 6734,   551},
{ 3270,  1160},
{ 6282,  3736},
{ 2179,  5895},
{ 3254,  7252},
{ 4044,  2068},
{ 9840,  2497},
{ 1222,  2032},
{ 4974,  1393},
{ 2992,   983},
{ 6442,  2739},
{ 1317,  3883},
{ 3106,  4538},
{ 3673,  1819},
{ 5905,  4945},
{ 1553,  2903},
{ 6187,  1999},
{ 2422,  1917},
{ 4034,  7796},
{ 2166,  4375},
{  672,  7245},
{ 2697,  2694},
{ 8126,  3863}
};

short LSPVQ3[][2]= {
{ 1140,  1019},
{ 2661,  3752},
{ 1809,  1511},
{ 5983,   862},
{ 1969,  2212},
{ 5669,   564},
{ 4991,   632},
{ 8025,   908},
{ 1094,  2189},
{ 2638,  4722},
{ 4322,   678},
{ 5518,  2982},
{ 1907,  4319},
{ 4597,  3598},
{ 3208,  2726},
{ 8847,  4453},
{ 2045,   747},
{ 4234,  3208},
{ 2621,   639},
{ 7294,   934},
{ 2392,  2825},
{ 5036,  1969},
{ 3654,  1668},
{ 8913,  1160},
{  714,  3824},
{ 3971,  5040},
{ 3519,   809},
{ 5485,  5603},
{ 1055,  7019},
{ 4139,  2546},
{ 3215,  1822},
{ 6944,  5603},
{  632,  1953},
{ 3391,  3136},
{ 2274,  1301},
{ 6544,   829},
{ 2435,  1976},
{ 5190,  1052},
{ 4411,  1134},
{ 7278,  2320},
{ 1478,  2399},
{ 3408,  4637},
{ 3880,   754},
{ 6072,  3011},
{ 1016,  5443},
{ 5325,  2313},
{ 2805,  2762},
{ 9509,  2300},
{ 1530,  1140},
{ 3631,  3434},
{ 2815,  1003},
{ 6436,  1517},
{ 1835,  3319},
{ 4669,  1747},
{ 3742,  2077},
{ 7835,  2880},
{ 1301,  3552},
{ 4407,  5571},
{ 3198,   813},
{ 6183,  3896},
{ 2110,  6839},
{ 4135,  1976},
{ 2874,  1802},
{ 7219,  4283}
};

short LSPVQ4[][2]= {
{ 1180,   727},
{ 2687,  3595},
{ 1969,  1045},
{ 5426,   649},
{ 1979,  1681},
{ 5086,   462},
{ 4558,   508},
{ 8107,   855},
{  881,  2572},
{ 4794,  2117},
{ 3680,   626},
{ 6603,   731},
{ 2572,  2766},
{ 3939,  3313},
{ 3211,  2644},
{ 9876,  2599},
{ 1868,   590},
{ 3719,  4529},
{ 2549,   839},
{ 6229,   587},
{ 2644,  2038},
{ 4787,  1501},
{ 4034,   583},
{ 6645,  2690},
{ 1268,  3038},
{ 4902,  3290},
{ 2910,  1285},
{ 7360,  1117},
{  967,  4791},
{ 3788,  2274},
{ 3349,  1550},
{ 7294,  4470},
{  688,  1566},
{ 3372,  3342},
{ 2366,   593},
{ 5672,   822},
{ 2392,  1599},
{ 4801,   960},
{ 4270,  1068},
{ 8503,  1268},
{ 1501,  1914},
{ 5141,  2431},
{ 3372,   567},
{ 6259,  1622},
{ 1982,  3798},
{ 4155,  2356},
{ 3188,  2117},
{ 9411,  1402},
{ 1452,  1094},
{ 2736,  4801},
{ 2988,   452},
{ 5623,  1448},
{ 2032,  2549},
{ 4312,  1475},
{ 3886,  1098},
{ 4738,  5456},
{ 1593,  3441},
{ 5489,  3339},
{ 2884,   911},
{ 7255,   662},
{ 1766,  5125},
{ 3742,  1747},
{ 3224,  1281},
{ 6980,  3568}
};
/* End quantize */
